<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Using Microsoft.Extension.Configuration With Dotnet Core Console Project | Challange your mind</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/very-simple.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><!-- include the sidebar--><!-- include ./includes/sidebar.jade--><!-- Blog title and subtitle--><header><div class="container header"><a id="logo" href="/." class="title">Challange your mind</a><span class="subtitle"></span><label id="toggle-menu" for="menu" onclick><i class="fa fa-bars"></i></label></div></header><!-- use checkbox hack for toggle nav-bar on small screens--><input id="menu" type="checkbox"><!-- Navigation Links--><nav id="nav"><div class="container"><a href="/" class="sidebar-nav-item active">Home</a><a href="/archives" class="sidebar-nav-item">Archives</a></div></nav><div id="header-margin-bar"></div><!-- gallery that comes before the header--><div class="wrapper"><div class="container post-header"><h1>Using Microsoft.Extension.Configuration With Dotnet Core Console Project</h1></div></div><div class="wrapper"><div class="container meta"><div class="post-time">2018-01-05</div><div class="post-categories"><a class="post-category-link" href="/categories/programming/">programming</a></div><div class="post-tags"><a class="post-tag-link" href="/tags/Microsoft-Extensions/">Microsoft.Extensions</a>/<a class="post-tag-link" href="/tags/console/">console</a>/<a class="post-tag-link" href="/tags/dotne-core/">dotne core</a>/<a class="post-tag-link" href="/tags/post-per-week/">post per week</a></div></div></div><article><div class="container post"><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Lately I have created the small console application. Because, I have used dotnet core and I need to add some persistent configuration. Because, web.config is no longer existing by default in new framework, I have used the new <em>Microsoft.Extension.Configuraiton</em> classes. This set of assemblies allow to use and mix difference source for configuration. Now you can store some configuration in xml, ini or json and then merge it with environmental variables.</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>My solution was to load <a href="https://www.nuget.org/packages/Microsoft.Extensions.Configuration/" target="_blank" rel="noopener">Microsoft.Extension.Configuration</a> with <a href="https://www.nuget.org/packages/Microsoft.Extensions.Configuration.Json/" target="_blank" rel="noopener">Microsoft.Extension.Configuration.CommandLine</a> and Microsoft.Extension.Configuration <a href="https://www.nuget.org/packages/Microsoft.Extensions.Configuration.Json/" target="_blank" rel="noopener">Microsoft.Extensions.Configuration.Json</a> NuGets to allow me to load configuration and pass it from command line.</p>
<p>Because I am using MS Extension library I can be config source agnostic, that is I can plan to use json configuration file but test it by passing configuration from command line.</p>
<h1 id="Output-of-build"><a href="#Output-of-build" class="headerlink" title="Output of build"></a>Output of build</h1><p>To start with using, you need to create ConfigurationBuilder</p>
<script src="https://gist.github.com/Assassyn/0b7e552cc0b4dbc878bb23da57a9ad91.js"></script>
After that you can configure it with any method required:
<script src="https://gist.github.com/Assassyn/b03ba6e548c50973fa89214c6f4422cd.js"></script>
After that you need to finalize it by building;
<script src="https://gist.github.com/Assassyn/f843ca426965192799a2eff4cf957811.js"></script>

<h2 id="Benefits"><a href="#Benefits" class="headerlink" title="Benefits"></a>Benefits</h2><p>The results is <strong>IConfigurationRoot</strong> object. This object allows you to access contant in two ways </p>
<ul>
<li>first, a flat indexer based on a key-value approach</li>
<li>second, object oriented way to use IConfigurationSections to crawl the object hierarchy inside configuration. </li>
</ul>
<p>For example configuration file: <script src="https://gist.github.com/Assassyn/1fcb379f3b683c96bd1a95484c409328.js"></script><br>The value of alpha can be access by using <em>test:alpha</em> key or getting alpha key from test section.<br>The value of alpha can be access by using <em>test:alpha</em> key or getting alpha key from test section.</p>
</div><!-- comment system--><div class="container"><hr><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'blogsasin';
var disqus_identifier = '2018/01/06/using-microsoft-extension-configuration-with-dotnet-core-console/';
var disqus_title = 'Using Microsoft.Extension.Configuration With Dotnet Core Console Project';
var disqus_url = 'http://blog.sasin.eu/2018/01/06/using-microsoft-extension-configuration-with-dotnet-core-console/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><footer id="footer"><div class="container"><div class="bar"><div class="social"><a href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></div><div class="footer">Â© 2018 <a href="/" rel="nofollow">Szymon M Sasin</a>. Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo</a>. Theme <a target="_blank" href="https://github.com/lotabout/very-simple">very-simple</a>.</div></div></div></footer><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-67381706-1');ga('send','pageview');</script></body></html>